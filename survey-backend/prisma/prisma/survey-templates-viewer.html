<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey Templates Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }
        h2 {
            color: #0066cc;
            margin-top: 30px;
        }
        h3 {
            color: #009900;
            margin-top: 20px;
        }
        .template {
            border: 1px solid #ccc;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        .field-section {
            margin-top: 20px;
            border-left: 3px solid #0066cc;
            padding-left: 15px;
        }
        .field {
            margin-bottom: 15px;
            padding: 10px;
            background-color: #fff;
            border-radius: 3px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .field-name {
            font-weight: bold;
            color: #333;
        }
        .field-type {
            color: #666;
            font-style: italic;
        }
        .field-label {
            color: #0066cc;
        }
        .special-field {
            background-color: #e6f7ff;
            border-left: 3px solid #0099ff;
        }
        pre {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 3px;
            overflow-x: auto;
        }
        .button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #0066cc;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 20px;
        }
        .button:hover {
            background-color: #0055aa;
        }
    </style>
</head>
<body>
    <h1>Survey Templates Viewer</h1>
    <p>This page displays the survey templates and their fields in a visual format.</p>
    
    <div id="templates-container">
        <p>Loading templates...</p>
    </div>

    <script>
        // Sample data structure for demonstration
        const sampleTemplates = [
            {
                name: "AHU Survey",
                description: "Survey template for Air Handling Units",
                baseFields: {
                    buildingNo: { type: "text", label: "Building Number" },
                    tag: { type: "text", label: "Tag" },
                    // Special fields we want to highlight
                    markups: {
                        type: "array",
                        label: "Markups & Diagrams",
                        itemTemplate: {
                            markup: { type: "file", label: "Markup/Diagram" },
                            title: { type: "text", label: "Title" },
                            description: { type: "textarea", label: "Description" }
                        }
                    },
                    surveyPhotos: {
                        type: "array",
                        label: "Survey Photos",
                        itemTemplate: {
                            photo: { type: "file", label: "Photo" },
                            description: { type: "text", label: "Description" },
                            location: { type: "text", label: "Location" }
                        }
                    },
                    surveyNotes: {
                        type: "array",
                        label: "Survey Notes",
                        itemTemplate: {
                            note: { type: "textarea", label: "Note" },
                            category: { 
                                type: "select", 
                                label: "Category",
                                options: [
                                    { value: "GENERAL", label: "General" },
                                    { value: "ISSUE", label: "Issue" },
                                    { value: "RECOMMENDATION", label: "Recommendation" },
                                    { value: "OBSERVATION", label: "Observation" }
                                ]
                            },
                            priority: { 
                                type: "select", 
                                label: "Priority",
                                options: [
                                    { value: "LOW", label: "Low" },
                                    { value: "MEDIUM", label: "Medium" },
                                    { value: "HIGH", label: "High" }
                                ]
                            }
                        }
                    }
                },
                specificFields: {
                    systemType: { type: "select", label: "System Type" },
                    fanArrangement: { type: "select", label: "Fan Arrangement" }
                }
            },
            {
                name: "Boiler Survey",
                description: "Survey template for Boilers",
                baseFields: {
                    buildingNo: { type: "text", label: "Building Number" },
                    tag: { type: "text", label: "Tag" },
                    // Special fields we want to highlight
                    markups: {
                        type: "array",
                        label: "Markups & Diagrams",
                        itemTemplate: {
                            markup: { type: "file", label: "Markup/Diagram" },
                            title: { type: "text", label: "Title" },
                            description: { type: "textarea", label: "Description" }
                        }
                    },
                    surveyPhotos: {
                        type: "array",
                        label: "Survey Photos",
                        itemTemplate: {
                            photo: { type: "file", label: "Photo" },
                            description: { type: "text", label: "Description" },
                            location: { type: "text", label: "Location" }
                        }
                    },
                    surveyNotes: {
                        type: "array",
                        label: "Survey Notes",
                        itemTemplate: {
                            note: { type: "textarea", label: "Note" },
                            category: { 
                                type: "select", 
                                label: "Category",
                                options: [
                                    { value: "GENERAL", label: "General" },
                                    { value: "ISSUE", label: "Issue" },
                                    { value: "RECOMMENDATION", label: "Recommendation" },
                                    { value: "OBSERVATION", label: "Observation" }
                                ]
                            },
                            priority: { 
                                type: "select", 
                                label: "Priority",
                                options: [
                                    { value: "LOW", label: "Low" },
                                    { value: "MEDIUM", label: "Medium" },
                                    { value: "HIGH", label: "High" }
                                ]
                            }
                        }
                    }
                },
                specificFields: {
                    boilerType: { type: "select", label: "Boiler Type" },
                    fuelType: { type: "select", label: "Fuel Type" }
                }
            }
        ];

        function renderTemplates(templates) {
            const container = document.getElementById('templates-container');
            container.innerHTML = '';

            templates.forEach(template => {
                const templateDiv = document.createElement('div');
                templateDiv.className = 'template';
                
                // Template header
                const header = document.createElement('h2');
                header.textContent = template.name;
                templateDiv.appendChild(header);
                
                const description = document.createElement('p');
                description.textContent = template.description;
                templateDiv.appendChild(description);
                
                // Base Fields section
                const baseFieldsSection = document.createElement('div');
                baseFieldsSection.className = 'field-section';
                const baseFieldsHeader = document.createElement('h3');
                baseFieldsHeader.textContent = 'Base Fields';
                baseFieldsSection.appendChild(baseFieldsHeader);
                
                // Special fields first (highlighted)
                const specialFields = ['markups', 'surveyPhotos', 'surveyNotes'];
                specialFields.forEach(fieldName => {
                    if (template.baseFields[fieldName]) {
                        const fieldDiv = renderField(fieldName, template.baseFields[fieldName], true);
                        baseFieldsSection.appendChild(fieldDiv);
                    }
                });
                
                // Other base fields
                Object.entries(template.baseFields).forEach(([fieldName, fieldData]) => {
                    if (!specialFields.includes(fieldName)) {
                        const fieldDiv = renderField(fieldName, fieldData);
                        baseFieldsSection.appendChild(fieldDiv);
                    }
                });
                
                templateDiv.appendChild(baseFieldsSection);
                
                // Specific Fields section
                const specificFieldsSection = document.createElement('div');
                specificFieldsSection.className = 'field-section';
                const specificFieldsHeader = document.createElement('h3');
                specificFieldsHeader.textContent = 'Specific Fields';
                specificFieldsSection.appendChild(specificFieldsHeader);
                
                Object.entries(template.specificFields).forEach(([fieldName, fieldData]) => {
                    const fieldDiv = renderField(fieldName, fieldData);
                    specificFieldsSection.appendChild(fieldDiv);
                });
                
                templateDiv.appendChild(specificFieldsSection);
                container.appendChild(templateDiv);
            });
        }

        function renderField(name, data, isSpecial = false) {
            const fieldDiv = document.createElement('div');
            fieldDiv.className = isSpecial ? 'field special-field' : 'field';
            
            const fieldName = document.createElement('div');
            fieldName.className = 'field-name';
            fieldName.textContent = name;
            fieldDiv.appendChild(fieldName);
            
            const fieldType = document.createElement('div');
            fieldType.className = 'field-type';
            fieldType.textContent = `Type: ${data.type}`;
            fieldDiv.appendChild(fieldType);
            
            const fieldLabel = document.createElement('div');
            fieldLabel.className = 'field-label';
            fieldLabel.textContent = `Label: ${data.label}`;
            fieldDiv.appendChild(fieldLabel);
            
            if (data.type === 'array' && data.itemTemplate) {
                const itemTemplateHeader = document.createElement('div');
                itemTemplateHeader.textContent = 'Item Template:';
                itemTemplateHeader.style.fontWeight = 'bold';
                itemTemplateHeader.style.marginTop = '10px';
                fieldDiv.appendChild(itemTemplateHeader);
                
                const itemTemplateJson = document.createElement('pre');
                itemTemplateJson.textContent = JSON.stringify(data.itemTemplate, null, 2);
                fieldDiv.appendChild(itemTemplateJson);
            }
            
            return fieldDiv;
        }

        // Initialize with sample data
        renderTemplates(sampleTemplates);
    </script>
</body>
</html>